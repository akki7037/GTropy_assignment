
import java.util.*;
import java.io.*;

public class Main {
    public static void main(String[] args) throws IOException {
        Dictionary d = new Dictionary();
        d.addPredefinedWords("D:\\Gtropy Assignment\\list.txt"); // TC-> big O(num of words in dictionary * max. length of word), SC->big O(num of words in dictionary * max. length of word)
        
        Scanner sc = new Scanner(System.in);
        System.out.println("Enter the word to search:");
        String input = sc.next();
        sc.close();
        
        d.searchWord(input); // TC-> big O(num of words in dictionary * max. length of word) , SC->constant
    }
}

class Dictionary {
    private Map<String, Boolean> words = new HashMap<>();

    // Load words from a file into the dictionary
    public void addPredefinedWords(String filename) throws IOException {
        try (BufferedReader reader = new BufferedReader(new FileReader(filename))) {
            String line;
            while ((line = reader.readLine()) != null) {
                words.put(line.trim(), true); // Trim leading/trailing whitespace and add to dictionary
            }
        }
    }

    // Search for a word in the dictionary and suggest similar words if not found
    public void searchWord(String word) {
        if (words.containsKey(word)) {
            System.out.println(word + " : exists in dictionary."); // // TC-> big O(num of words in dictionary) , SC-> constant
        } else {
            System.out.println(word + " : does not exist in dictionary.");
            suggestedWords(word); // TC-> big O(num of words in dictionary * max. length of word) , SC-> O(K) where K is the number of words suggested
        }
    }

    // Suggest similar words for a misspelled input
    private void suggestedWords(String word) {
        System.out.println("Did you mean :");
        for (String w : words.keySet()) { // // TC-> big O(num of words in dictionary * max. length of word) , SC-> constant
            if (isSimilar(w, word)) {
                System.out.println(w);
            }
        }
    }

    // Check if two words are similar (e.g., same length and differ by at most one character)
    private boolean isSimilar(String word1, String word2) {
        if (word1.length() != word2.length()) {
            return false;
        }

        int diffCount = 0;
        for (int i = 0; i < word1.length(); i++) {
            if (word1.charAt(i) != word2.charAt(i)) {
                diffCount++;
                if (diffCount > 1) {
                    return false;
                }
            }
        }
        return true;
    }
}
